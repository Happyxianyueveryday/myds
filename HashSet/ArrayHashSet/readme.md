## 开放定址法的哈希表

### 1. 源代码文件清单
```
HashElement.h: 哈希元素抽象基类，需要进行哈希的话必须继承该抽象基类，并实现其中的必要方法
TestElement.h: 用于测试的哈希元素基类
HashSet.h: 哈希表基类
ArrayHashSet.h: 基于开放定址法的哈希表
```

### 2. 懒惰删除策略

在开放定址法的哈希表中，需要删除哈希表中的元素时，不能直接删除元素本身，因为在哈希查找的算法中，一旦遇到空的桶就认为哈希表中不存在指定的元素，查找结束。因此如果进行直接删除，则会导致在哈希表中的某些元素不能被查找到。

因此在开放定址法的哈希表中，元素删除使用的是懒惰删除：

+ 为桶数组创建一个标志数组，当需要删除某个元素时，不删除桶中的元素本身，而只是将该桶对应的标志数组元素标记为已删除。

这样便可以不影响查找算法，但是具体的查找算法，插入算法和删除算法步骤有些小变化，具体而言：

+ 插入算法：使用开放定址法，查找到标志值为已删除的桶，便可以释放桶中原有的懒惰删除的元素（如果存在的话），并将待插入元素插入此位置。
+ 删除算法：使用开放定址法，查找到标志值为未删除的，且元素和待删除目标相等的桶，则对该桶中的元素进行懒惰删除。
+ 查找算法：使用开放定址法，若找到标志值为未删除的，且元素和待删除目标相等的桶，则直接返回true。若查找到标记为删除且为空的桶，则说明哈希表中查找不到该元素，返回false。

### 3. 哈希扩容算法
懒惰删除的元素仍然会占用一定的内存，因此需要找到一个时机来清理懒惰删除的哈希表元素，这个时机就是哈希扩容。哈希扩容中会对所有哈希表中的存在的元素进行再哈希，从而使得已经懒惰删除的元素不再影响哈希表中存在的元素的查找。

具体介绍哈希扩容算法之前，首先介绍以下几个基本概念.

+ 元素数量size: 哈希表中的元素个数。
+ 桶数量capacity: 拉链法哈希表中桶的数量，或者说是桶数组的长度。
+ 负载因子load_factor: 拉链法哈希表的装载因子，范围为(0, 1]。
+ 阈值threshold: 阈值等于桶数量乘以装载因子，即threshold=capacity\*load_factor。

然后，哈希扩容的核心触发条件为：当哈希表中的元素数量size大于阈值threshold时，也即: size>capacity\*load_factor时，触发哈希扩容。

哈希扩容算法的关键步骤如下：  
1. 创建新的桶数组，新桶数组的长度为旧桶数组的两倍。
2. 将旧桶数组中的未被删除的元素使用与原先相同的哈希过程插入到新桶数组中（浅拷贝），旧桶数组中的已经被懒惰删除的元素则直接释放。
3. 释放旧桶，重新计算阈值，并将新桶作为哈希表的元素存储。






